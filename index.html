!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<!--                   
    PRESENTADO POR: FRANK TREJOS
    ENTREGA 1, MERN FULLSTACK 
    USANDO CLASES DE BOOTSTRAP 
-->

<body>
    <div class="container py-2">
        <h3>Calcula las notas de estudiantes, promedio debe ser mayor que 3.5 para aprobar</h3>
        <p class="lead">Ingrese el estudiante y las notas</p>
        <form>
            <input id="nombre" type="text" placeholder="Ingresa nombre y el apellido del Estudiane" class="form-control my-2">
            <br>
            <input id="nota1" type="number" placeholder="Ingrese la nota No. 1" class="form-control my2">
            <br>
            <input id="nota2" type="number" placeholder="Ingrese la nota No. 2" class="form-control my2">
            <br>
            <button id="boton" class="btn btn-primary" type="reset" onclick="capturar();">Guardar</button>
        </form>
    </div>

    <div class="container">
        <table class="table" id="tabla">
            <thead class="thead-inverse">
                <tr> <!-- tabla en html-->
                    <th>Nombre</th>
                    <th>Nota No. 1</th>
                    <th>Nota No. 2</th>
                    <th>Promedio</th>
                    <th>Aprobado/Reprobado</th>
                </tr>
            </thead>
        </table>
    </div>
    <!-- Script -->
    <script>
        function capturar(){ // funcion de capturar la data
            function Alumno(nombre, nota1, nota2){
                this.nombre=nombre;
                this.nota1=nota1;
                this.nota2=nota2;
                this.promedio=promedio;
                this.estado=estado;
            };
            // Captura los datos de nombre, 1 nota y 2 nota
            let nombreCapturar = document.getElementById("nombre").value;
            let nota1Capturar = document.getElementById("nota1").value;
            let nota2Capturar = document.getElementById("nota2").value;
            // parsea las notas
            nota1Numero = parseFloat(nota1Capturar);
            nota2Numero = parseFloat(nota2Capturar);
            // calcula el promedio
            promedio = (nota1Numero + nota2Numero) / 2; 
            console.log(promedio);
            let estado;
            // if para validar promedio
            if (promedio >= 3.5){
                console.log("Aprobado");
                estado="Aprobado";

            }else{
                console.log("Reprobo");
                estado="Reprobado";
            }
            // crear el arreglo
            nuevoAlumno = new Alumno(nombreCapturar, nota1Capturar, nota2Capturar, promedio, estado);
            agregar();
        };
        
        let baseDatos = [];
        function agregar(){
                //pushea la data
                baseDatos.push(nuevoAlumno);
                console.log("Info capturada"); 
                // hace un innerHTML para pintar la tabla con la data
                document.getElementById("tabla").innerHTML += "<tbody><td>" +nuevoAlumno.nombre+ "</td><td>" +nuevoAlumno.nota1+
                "</td><td>" +nuevoAlumno.nota2+ "</td><td>" +nuevoAlumno.promedio+ "</td><td>" +nuevoAlumno.estado+"</tbody>"
            };
    </script>
       
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</html>
